replicaCount: 1
namespace: ezdata-helm
image:
  repository: ezdata123/ezdata
  tag: 1.0.1
  pullPolicy: IfNotPresent
  web: ezdata123/ezdata-web

web:
  replicas: "1"
  env:
   web_api: 10.233.31.1:8001
   scheduler_api: 10.233.31.2:8002
   VITE_GLOB_API_URL: "http://101.35.23.52/api"
   VITE_GLOB_DOMAIN_URL: "http://101.35.23.52"
  service:
    type: NodePort
    clusterIP: 10.233.31.0
    nodePort: 80

api:
  replicas: "3"
  env:
    read_env: "1"
    ENV: prod.env
    run_web: "1"
    web_worker: "4"
    run_scheduler: "0"
    run_flower: "0"
    run_worker: "0"
    worker_concurrency: "4"
    worker_queue: default
    worker_process: prefork
  service:
    type: ClusterIP
    clusterIP: 10.233.31.1

scheduler:
  replicas: "1"
  env:
    read_env: "1"
    ENV: prod.env
    run_web: "0"
    web_worker: "4"
    run_scheduler: "1"
    run_flower: "1"
    run_worker: "0"
    worker_concurrency: "4"
    worker_queue: default
    worker_process: prefork
  service:
    type: ClusterIP
    clusterIP: 10.233.31.2

worker:
  replicas: "3"
  env:
    read_env: "1"
    ENV: prod.env
    run_web: "0"
    web_worker: "4"
    run_scheduler: "0"
    run_flower: "0"
    run_worker: "1"
    worker_concurrency: "4"
    worker_queue: default
    worker_process: prefork


mysql:
  enabled: true
  auth:
    username: "root"
    password: "ezdata123"
    rootPassword: "ezdata123"
    database: "ezdata"
  primary:
    service:
      clusterIP: 10.233.31.3 # 服务ip
    persistence:
      enabled: false
      size: "20Gi"
      storageClass: "-"

externalDatabase:
  enabled: false
  type: "mysql"
  host: "101.35.23.52"
  port: "33306"
  username: "root"
  password: "Ezdata123"
  database: "ezdata"

redis:
  enabled: true
  auth:
    enabled: true
    password: "ezdata123"
    db: 1
  # 修改集群架构 architecture，默认是主从（replication，3个节点），可以修改为 standalone 单机模式
  architecture: standalone
  ports:
    redis: 6379
  master:
    service:
      clusterIP: 10.233.31.4
  # 修改 storageClass 为 managed-nfs-storage
  storageClass: "managed-nfs-storage"

externalRedis:
  enabled: false
  host: "101.35.23.52"
  port: 36379
  username: ""
  password: "Ezdata123"
  db: 1

minio:
  enabled: true
  auth:
    rootUser: "minio"
    rootPassword: "ezdata123"
  persistence:
    enabled: true
    size: 10Gi
    storageClassName:
    annotations: {}
  defaultBuckets: "ezdata"
  service:
    clusterIP: 10.233.31.5 # 服务ip

externalMinio:
  enabled: false
  host: "101.35.23.52"
  port: 39000
  username: "minio"
  password: "Ezdata123"
  bucket: "ezdata"

elasticsearch:
  enabled: true
  replicas: 1
  service:
    clusterIP: 10.233.31.6


externalElasticSearch:
  enabled: false
  hosts: "[{\"host\": \"101.35.23.52\", \"port\": 39200}]"
  username: "elastic"
  password: "Ezdata123"


